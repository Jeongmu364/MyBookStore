<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="UserDao">
    <insert id="insertUser">
    <![CDATA[
        insert into user(username, email, password, phone_number, user_role)
        values (#{username}, #{email}, #{password}, #{phoneNumber}, #{userRole})
        ]]>
    </insert>

    <update id="updateBoard">
    <![CDATA[
        update user
        set username     = #{username},
            email        = #{email},
            password     = #{password},
            phone_number = #{phoneNumber},
            update_time  = CURRENT_TIMESTAMP
        where id = #{id}
        ]]>
    </update>

    <delete id="deleteUser">
    <![CDATA[
        delete
        from user
        where id = #{id}
        ]]>
    </delete>

    <select id="getUser">
    <![CDATA[
        select *
        from user
        where email = ${email}
          and password = ${password}
        ]]>
    </select>
</mapper>